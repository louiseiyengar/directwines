{"version":3,"sources":["components/FormOption.js","components/WineForm.js","components/Zip.js","components/App.js","index.js"],"names":["FormItem","props","labelText","name","substring","indexOf","replace","defaultValue","defaultChecked","index","react_default","a","createElement","className","type","data-bom","id","price","href","data-title","data-toggle","data-target","style","textDecoration","WineForm","wineOptions","wineCases","length","map","wineCase","i","FormOption","key","itemCode","Zip","processZip","e","target","value","_this","searchZipCode","ctMessage","this","zipLocation","messageClass","onChange","maxLength","required","Component","App","state","locationInfo","emptyMessage","handleWineData","responseData","wineArray","product","listPrice","setState","handleZipData","location","city","stateCode","searchWines","fetch","then","response","json","mainItems","catch","error","console","log","zip","concat","_this2","react_router_dom","basename","react_router","exact","path","render","components_WineForm","components_Zip","ReactDOM","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.c65d2b0c.chunk.js","sourcesContent":["import React from 'react';\n\nconst FormItem = props => {\n    let labelText = props.name;\n    labelText = labelText.substring(0, labelText.indexOf(\"Collection\"));\n    labelText = labelText.replace(\"Mixed\", \"Mix\");\n    const defaultChecked =  (props.index === 0) ? \"defaultChecked\" : \"\";\n    let defaultValue;\n    if (labelText.indexOf(\"Red\") > -1) {\n        defaultValue = \"all-reds\";\n    } else if (labelText.indexOf(\"White\") > -1) {\n        defaultValue = \"all-whites\";\n    } else {\n        defaultValue = \"mixed\"\n    }\n\n    return (\n        <label className=\"wine-options\">\n        <input type=\"radio\" className=\"radio\" name=\"wineSelect\" defaultChecked={defaultChecked} data-bom={props.id} defaultValue={defaultValue} />\n        <b>{labelText}</b>  + 2 BONUS Bottles & Glasses + <b>JUST ${props.price}</b>\n        <a href=\"#single-wine-modal\" className=\"toggle-single-wine-modal\" data-bom={props.id} data-title={labelText} data-toggle=\"modal\" data-target=\"#single-wine-modal\" style={{textDecoration: 'none'}}>view wines</a>\n      </label>\n    );\n  }\n\nexport default FormItem","import React from 'react';\n\nimport FormOption from './FormOption';\n\nconst WineForm = (props) => {\n  const wineCases = props.wineCases;\n  let wineOptions;\n\n  if (wineCases.length > 0) {\n    wineOptions = wineCases.map((wineCase, i) =>\n      <FormOption \n        key={wineCase.itemCode} \n        name={wineCase.name} \n        price={wineCase.price} \n        index = {i}\n        />);\n  } else {\n    wineOptions = \"...options are loading\";\n  }\n\n  return(\n      <div className=\"main-content-wineforms\">\n        <div className=\"section-header section-header-1\">\n            <span className=\"step\">Step 1</span><span className=\"triangle\"></span> <span className=\"step-name\">Which Case Would You Like?</span>\n        </div>\n        <p>Whatever you choose, we’ll add in two bonus Cabs and two crystal glasses and you’ll have the complete package – \n        worth over $250 – for ONLY $69.99 (plus $19.99 shipping &amp; applicable tax; please allow 5-10 days for delivery, \n        depending on shipping state).</p> \n        <div className=\"wine-select\">\n          {wineOptions}\n        </div>\n    </div>\n  );\n}\n  \nexport default WineForm;\n\n","import React, {Component} from 'react';\n\nclass Zip extends Component {\n\n  processZip = (e) => {\n    if (e.target.value.length === 5) {\n      this.props.searchZipCode(e.target.value);\n    } else if (e.target.value.length === 0) {\n      e.target.value = '';\n      this.props.searchZipCode('');\n    }\n  }\n\n\n  render() {\n    const ctMessage =  ( this.props.zipLocation.indexOf(\"CT\") === -1) ? '' : this.props.ctMessage;\n    const messageClass =  ( this.props.zipLocation.indexOf(\"Enter\") > -1) ? 'initial' : 'location';\n\n    return (\n      <div className=\"main-content\">\n        <div id=\"divZipInput\">\n        <label> <span className=\"required\">*</span> ZIP</label>\n          <input \n            onChange={this.processZip}\n            type=\"text\" \n            className=\"form-control\" \n            maxLength=\"5\" \n            required />\n          </div>\n          <div id=\"cityState\" className={messageClass}>\n            {this.props.zipLocation}\n          </div>\n          <div id='ctMessage'>{ctMessage}</div>\n        </div>\n    )\n  }\n}\n\nexport default Zip","import React, {Component} from 'react';\nimport {\n  HashRouter,\n  Route,\n  Switch\n} from 'react-router-dom';\n\n// App Components\nimport WineForm from './WineForm';\nimport Zip from './Zip';\n\nclass App extends Component {\n  state = {\n    wineCases: [],\n    zipLocation: 'Enter Zip to Populate City and State',\n    locationInfo: this.emptyMessage\n  }\n\n  emptyMessage = 'Enter Zip to Populate City and State'\n  ctMessage = 'Upon completion of this form, your order will be forwarded to The Wine Cellar, located in Wallingford, CT for processing and shipping.';\n\n  handleWineData = (responseData) => {\n      const wineArray = responseData.map((wineCase) => {\n        return ({\n            name: wineCase.product.name,\n            price: wineCase.listPrice,\n            itemCode: wineCase.itemCode\n          })\n      });\n\n      this.setState({\n        wineCases: wineArray\n      })\n  }\n\n  handleZipData = (responseData) => {\n     const location = responseData.city + \", \" + responseData.stateCode;\n     this.setState({\n      zipLocation: location\n    })\n  }\n\n  searchWines = () => {\n    fetch(`https://www.wsjwine.com/api/offer/0033008`)\n    .then(response => response.json())\n    .then(responseData => {\n      this.handleWineData(responseData.response.mainItems);\n    })\n    .catch((error) => {\n      console.log(\"There was an error retrieving data from Direct Wines:\", error);\n    });\n  }\n\n  searchZipCode = (zip) => {\n\n    if (zip.length > 0) {\n      fetch(`https://www.wsjwine.com/api/address/zipcode/${zip}`)\n      .then(response => response.json())\n      .then(responseData => {\n        this.handleZipData(responseData.response);\n      })\n      .catch((error) => {\n        console.log(\"There was an error retrieving data from Direct Wines:\", error);\n      });\n    } else {\n      this.setState({\n        zipLocation: this.emptyMessage\n      })\n    }\n  }\n\n  componentDidMount() {\n    this.searchWines();\n  }\n\n  render () {\n    return (\n      <HashRouter basename=\"/directwines\">\n        <div className=\"container\">\n          <Switch> />\n            <Route exact path=\"/\" \n              render={ () => <WineForm wineCases={this.state.wineCases} /> } />\n            <Route exact path=\"/zip\" \n              render={ () => <Zip \n                  searchZipCode={this.searchZipCode} \n                  zipLocation={this.state.zipLocation}\n                  ctMessage={this.ctMessage} /> } />\n          </Switch>\n        </div>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './css/index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, \n    document.getElementById('root'));\n"],"sourceRoot":""}