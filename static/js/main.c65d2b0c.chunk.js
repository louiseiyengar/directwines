(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(34)},29:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(19),o=a.n(r),s=(a(28),a(29),a(8)),c=a(9),l=a(11),p=a(10),d=a(12),m=a(20),u=a(5),h=function(e){var t=e.name;t=(t=t.substring(0,t.indexOf("Collection"))).replace("Mixed","Mix");var a,n=0===e.index?"defaultChecked":"";return a=t.indexOf("Red")>-1?"all-reds":t.indexOf("White")>-1?"all-whites":"mixed",i.a.createElement("label",{className:"wine-options"},i.a.createElement("input",{type:"radio",className:"radio",name:"wineSelect",defaultChecked:n,"data-bom":e.id,defaultValue:a}),i.a.createElement("b",null,t),"  + 2 BONUS Bottles & Glasses + ",i.a.createElement("b",null,"JUST $",e.price),i.a.createElement("a",{href:"#single-wine-modal",className:"toggle-single-wine-modal","data-bom":e.id,"data-title":t,"data-toggle":"modal","data-target":"#single-wine-modal",style:{textDecoration:"none"}},"view wines"))},f=function(e){var t,a=e.wineCases;return t=a.length>0?a.map(function(e,t){return i.a.createElement(h,{key:e.itemCode,name:e.name,price:e.price,index:t})}):"...options are loading",i.a.createElement("div",{className:"main-content-wineforms"},i.a.createElement("div",{className:"section-header section-header-1"},i.a.createElement("span",{className:"step"},"Step 1"),i.a.createElement("span",{className:"triangle"})," ",i.a.createElement("span",{className:"step-name"},"Which Case Would You Like?")),i.a.createElement("p",null,"Whatever you choose, we\u2019ll add in two bonus Cabs and two crystal glasses and you\u2019ll have the complete package \u2013 worth over $250 \u2013 for ONLY $69.99 (plus $19.99 shipping & applicable tax; please allow 5-10 days for delivery, depending on shipping state)."),i.a.createElement("div",{className:"wine-select"},t))},g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).processZip=function(e){5===e.target.value.length?a.props.searchZipCode(e.target.value):0===e.target.value.length&&(e.target.value="",a.props.searchZipCode(""))},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=-1===this.props.zipLocation.indexOf("CT")?"":this.props.ctMessage,t=this.props.zipLocation.indexOf("Enter")>-1?"initial":"location";return i.a.createElement("div",{className:"main-content"},i.a.createElement("div",{id:"divZipInput"},i.a.createElement("label",null," ",i.a.createElement("span",{className:"required"},"*")," ZIP"),i.a.createElement("input",{onChange:this.processZip,type:"text",className:"form-control",maxLength:"5",required:!0})),i.a.createElement("div",{id:"cityState",className:t},this.props.zipLocation),i.a.createElement("div",{id:"ctMessage"},e))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={wineCases:[],zipLocation:"Enter Zip to Populate City and State",locationInfo:a.emptyMessage},a.emptyMessage="Enter Zip to Populate City and State",a.ctMessage="Upon completion of this form, your order will be forwarded to The Wine Cellar, located in Wallingford, CT for processing and shipping.",a.handleWineData=function(e){var t=e.map(function(e){return{name:e.product.name,price:e.listPrice,itemCode:e.itemCode}});a.setState({wineCases:t})},a.handleZipData=function(e){var t=e.city+", "+e.stateCode;a.setState({zipLocation:t})},a.searchWines=function(){fetch("https://www.wsjwine.com/api/offer/0033008").then(function(e){return e.json()}).then(function(e){a.handleWineData(e.response.mainItems)}).catch(function(e){console.log("There was an error retrieving data from Direct Wines:",e)})},a.searchZipCode=function(e){e.length>0?fetch("https://www.wsjwine.com/api/address/zipcode/".concat(e)).then(function(e){return e.json()}).then(function(e){a.handleZipData(e.response)}).catch(function(e){console.log("There was an error retrieving data from Direct Wines:",e)}):a.setState({zipLocation:a.emptyMessage})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.searchWines()}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,{basename:"/directwines"},i.a.createElement("div",{className:"container"},i.a.createElement(u.c,null," />",i.a.createElement(u.a,{exact:!0,path:"/",render:function(){return i.a.createElement(f,{wineCases:e.state.wineCases})}}),i.a.createElement(u.a,{exact:!0,path:"/zip",render:function(){return i.a.createElement(g,{searchZipCode:e.searchZipCode,zipLocation:e.state.zipLocation,ctMessage:e.ctMessage})}}))))}}]),t}(n.Component);o.a.render(i.a.createElement(w,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.c65d2b0c.chunk.js.map